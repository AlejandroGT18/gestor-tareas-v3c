<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TaskOrbit (Arq. 3 Capas)</title>
    <link rel="stylesheet" href="3Capas/frontend/styles.css" />
  </head>
  <body>
    <div class="container">
      <h1>TaskOrbit</h1>

      <div id="authSection">
        <h2>Registro/Inicio de Sesión</h2>
        <div class="form-group">
          <input
            type="text"
            id="username"
            placeholder="Usuario"
            class="input-field"
            data-cy="usuario"
          />
        </div>
        <div class="form-group">
          <input
            type="password"
            id="password"
            placeholder="Contraseña"
            class="input-field"
            data-cy="contraseña"
          />
        </div>
        <div class="button-group">
          <button onclick="register()" class="btn btn-register" data-cy="btn-submit">
            Registrarse
          </button>
          <button onclick="login()" class="btn btn-login" data-cy="btn-login">
            Iniciar Sesión
          </button>
        </div>
      </div>

      <div id="taskSection" style="display: none">
        <div class="header-section">
          <h2>Mis Tareas</h2>
          <button onclick="logout()" id="logoutButton" class="btn btn-logout">
            Cerrar sesión
          </button>
        </div>
        <div class="task-input-section">
          <div>
            <label for="newTask">Nueva Tarea:</label>
            <input
              type="text"
              id="newTask"
              placeholder="Nueva tarea"
              class="input-field"
              data-cy="nueva-tarea"
            />
          </div>
          <div>
            <label for="taskDateTime">Fecha:</label>
            <input data-cy="fecha" type="datetime-local" id="taskDateTime" class="input-field" />
          </div>
          <div>
            <label for="categoriaSelect">Categoria:</label>
            <select
              id="categoriaSelect"
              class="input-field"
              style="max-width: 180px"
              data-cy="categoria"
            ></select>
          </div>
          <div>
            <label for="newCategoria">Nueva Categoria:</label>
            <input
              type="text"
              id="newCategoria"
              placeholder="Nueva categoría"
              class="input-field"
              style="max-width: 180px"
              data-cy="nueva-categoria"
            />
          </div>
          <button onclick="addTask()" class="btn btn-add" data-cy="btn-agregar">Agregar</button>
        </div>
        <div class="filter-section">
          <label for="filtroCategoria">Filtrar por categoría:</label>
          <select
            id="filtroCategoria"
            class="input-field"
            style="max-width: 140px"
            onchange="filtrarPorCategoria()"
          >
            <option value="">Todas</option>
          </select>
        </div>
        <ul id="taskList" class="task-list"></ul>
      </div>
    </div>
    <script src="3Capas/frontend/app.js"></script>
  </body>
</html>
